function menu(){var a=document.getElementById("m1"),b=document.getElementById("m2"),c=document.getElementById("c1");b?("no"==b.className?(a.className="at",b.className=c?"jm mc1":"jm"):(b.className="no",a.className=""),document.getElementById("input_pesquisa_funcionalidade_menu_principal")&&(document.getElementById("input_pesquisa_funcionalidade_menu_principal").focus(),document.getElementById("input_pesquisa_funcionalidade_menu_principal").select())):document.getElementById("spOp").insertAdjacentHTML("afterbegin",'<div id="m2" class="jm"><h2 class="carr"></h2></div>')}function abrirPopup(a,b,c){var d=(screen.width-c)/2,e=(screen.height-b)/2;window.open(a,"_blank","height="+b+", width="+c+", left="+d+", top="+e+", directories=no, status=yes, menubar=no, scrollbars=yes, resizable=yes")}function defaultPopup(a){abrirPopup(a,"480","660")}function selectItem(a,b,c,d){window.opener.document.forms[0].elements[a].value=c,window.opener.document.forms[0].elements[b].value=d,window.close()}function buscarItem(a,b){var c;for(c=0;c<a.length&&a[c]!=b;c++);return c<a.length?c:-1}function isNumeric(a){var b=/^[0-9]+$/;return!!a.value.match(b)}function isValidElement(a){return null!=a&&void 0!=a.value&&""!=a.value&&"null"!=a.value}function mascara(a,b){v_obj=a,v_fun=b,setTimeout("execmascara()",1)}function soNumeros(a){return a.replace(/\D/g,"")}function mostraEscondeCampo(a,b){mostraCampo(a),escondeCampo(b)}function habilitaDesabilitaCampo(a,b){habilitaCampo(a),desabilitaCampo(b)}function mostraCampo(a){var b;for(b=0;b<a.length;b++)try{document.getElementById(a[b]).style.display=""}catch(a){}}function escondeCampo(a){var b;for(b=0;b<a.length;b++)try{document.getElementById(a[b]).style.display="none"}catch(a){}}function habilitaCampo(a){var b;for(b=0;b<a.length;b++)try{document.getElementById(a[b]).disabled=""}catch(a){}}function desabilitaCampo(a){var b;for(b=0;b<a.length;b++)try{document.getElementById(a[b]).disabled="true"}catch(a){}}function Trim(a){return a.replace(/^\s+|\s+$/g,"")}function callusecase(a){var b=document.forms[0];return b.elements.act.value="load",b.target="_self",b.action=a,b.submit(),!1}function muda(a){var b=document.getElementById("mudaop");"jm conheca opcoes"==b.className?b.className="jm conheca opcoes no":(b.className="jm conheca opcoes",b.style.left=a.offsetLeft+"px")}function selecionarItemMenuIntermediario(){var a;a="liMenu"+document.getElementById("menuIntermediarioSelecionado").value,document.getElementById(a).className="at"}function loadScript(a){var b=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",c.src=a,b.appendChild(c)}function configUser(){var a=document.getElementById("u2");a.classList.contains("jm")||(a.classList.add("jm"),a.classList.add("c-user")),document.getElementById("u1").classList.toggle("at"),a.classList.toggle("no")}function enableDisableCombos(){var a=document.getElementsByTagName("SELECT");for(i=0;i<a.length;i++){var b=a[i].parentNode,c=a[i],d=c.getElementsByTagName("OPTION");if(d.length<2){var e=b.className;""==c.value&&-1==e.indexOf("bl")?b.className=e+" bl":""!=c.value&&(b.className=e.replace("bl",""))}else if(2==d.length)if(""==d[1].innerHTML){var e=b.className;-1==e.indexOf("bl")&&(b.className=e+" bl")}else{var e=b.className;b.className=e.replace("bl","")}else{var e=b.className;b.className=e.replace("bl","")}}}function qapp_caixasPA(){var a=document.getElementById("encConversa");""!==a.innerHTML&&a.classList.toggle("no")}function qapp_selecionaCaixa(a,b){var c=(document.getElementById("usuario"),document.getElementById("c-"+a).innerHTML);c.indexOf("Caixa Pessoal")>=0&&(c=localStorage.getItem("gambiarra3")),pslc(a,c)}function exibirGradePortais(a){var b=document.getElementById("mudaop");"jm conheca opcoes"==b.className?b.className="jm conheca opcoes no":(b.className="jm conheca opcoes",b.style.left=a.offsetLeft+"px")}function selecionarAreaMenu(a,b){var c,d=a.parentNode.getElementsByTagName("a"),e=document.getElementById("menu_principal").getElementsByTagName("div");for(c=1;c<e.length;c++)e[c].className="no";for(c=0;c<d.length;c++)d[c].className="";document.getElementById("aba_menu_principal_"+b).className="ar",a.className="at"}function pesquisarFuncionalidadeMenuPrincipal(a,b){var c=a.value,d=document.getElementById("menu_principal"),e=document.getElementById("div_resultado_pesquisa_funcionalidade"),f=document.getElementById("cmd_limpar_pesquisa"),g=new Array;if(c.length>2){c=removerAcento(c),e.classList.remove("no"),d.classList.add("no"),f.classList.remove("no");for(var h=1;h<d.childElementCount;h++)for(var i=d.children[h],j=0;j<i.childElementCount;j++)for(var k=i.children[j],l=1;l<k.childElementCount;l++){var m=k.children[l].children[0],n=removerAcento(m.innerText.toUpperCase());n.indexOf(c.toUpperCase())>-1&&g.push(criarItemResultadoPesquisa(i,k,m))}if(g.length>0){for(;e.firstChild;)e.removeChild(e.firstChild);for(var h=0;h<g.length;h++)e.appendChild(g[h]);13==b.keyCode&&g[0].click()}else e.innerHTML="Nenhum resultado encontrado"}else e.classList.add("no"),d.classList.remove("no")}function limparResultadoPesquisa(){var a=document.getElementById("menu_principal"),b=document.getElementById("div_resultado_pesquisa_funcionalidade"),c=document.getElementById("cmd_limpar_pesquisa");for(document.getElementById("input_pesquisa_funcionalidade_menu_principal").value="";b.firstChild;)b.removeChild(b.firstChild);b.classList.add("no"),a.classList.remove("no"),c.classList.add("no")}function criarItemResultadoPesquisa(a,b,c){var d=recuperarAreaFuncionalidade(a),e=document.createElement("SPAN");e.className="tc direita",e.innerHTML=d.innerHTML+" / "+b.children[0].innerHTML;var f=document.createElement("A");return f.setAttribute("href",c.href),f.innerHTML=c.innerHTML,f.appendChild(e),f}function recuperarAreaFuncionalidade(a){for(var b,c=document.getElementById("menu_principal").children[0],d=0;d<c.childElementCount;d++){var e=c.children[d];if("aba_menu_principal_"+e.attributes["data-aba-menu-principal"].value==a.id){b=e;break}}return b}function removerAcento(a){for(var b=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],c=0,d=b.length;c<d;c++)a=a.replace(b[c].re,b[c].ch);return a}function getCookie(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return""}function selecionaCaixaAtiva(){var a=getCookie("vCxUINCod");if(""!=a&&"undefined"!=a){var b=document.getElementsByClassName("c-list");for(i=0;i<b.length;i++)b[i].className="c-list";var c=document.getElementById("c-"+a);c&&(c.className="c-list se")}} /* recuperaMenuPrincipal*/ function recuperarMenuPrincipal(login){var menu_local_storage=eval("localStorage.menu_principal_"+login);if(null==menu_local_storage){var menu='<span id="spOp" class="op"><a id="u1" href="javascript:configUser()" accesskey="u">'+login+' </a><a id="m1" href="javascript:void(0);" onclick="menu()" accesskey="m">MENU</a></span>';document.getElementById("g").insertAdjacentHTML("afterbegin",menu);var b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.onreadystatechange=function(){if(4===b.readyState&&200===b.status){menu=b.responseText;var a=document.getElementById("m2"),c=!1;a&&(c="no"!=a.className),localStorage.clear(),localStorage.setItem("menu_principal_"+login,menu),document.getElementById("g").removeChild(document.getElementById("spOp")),document.getElementById("g").insertAdjacentHTML("afterbegin",menu),1==c&&(document.getElementById("m2").className="jm"),loadQapp()}};var servidor=window.location.protocol+"//"+window.location.host;servidor.indexOf("localhost")>=0&&(servidor="http://homologacao.intranet.policiamilitar.mg.gov.br/"),b.open("GET",servidor+"/lite/seguranca/web/menuservice/menugeral?token="+getCookie("JSESSIONIDSSO"),!0),b.send()}else document.getElementById("g").insertAdjacentHTML("afterbegin",menu_local_storage);loadQapp()} /* end recuperaMenuPrincipal */function loadQapp(){if(!("ppq"in window)){var a=document.createElement("script");a.type="application/javascript",a.src="/static/js/qapp/qapp.min.js",(document.body||document.head||document.documentElement).appendChild(a)}}Dispatcher=function(){this.setDispatch=function(a){document.forms[0].action=a,document.forms[0].submit()}},selecionaCaixaAtiva();function abreLegadoJanela(a,b,c){window.open("/legado"+a,"prot","width="+b+", height="+c).focus()}